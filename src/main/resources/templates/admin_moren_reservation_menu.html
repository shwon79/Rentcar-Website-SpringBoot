<!-- 관리자페이지 -->
<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>SAVECAR - 관리자 페이지</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link th:href="@{/css/admin.css}" rel="stylesheet">
    <script th:src="@{/js/jquery.min.js}" defer></script>
    <script th:src="@{/js/admin.js}" defer></script>

</head>
<body>
<div class="page_wrapper">
    <div id="logout_box"><a href="/admin/logout"><button id="logout">로그아웃</button></a></div>
    <div class="content_wrapper">
        <div class="menu_container">
            <div class="menu_list">
                <a href="/admin/campingcar/menu"><li>캠핑카 예약</li></a>
                <a href="/admin/counsel/menu"><li>상담 신청</li></a>
                <a href="/admin/discount/menu"><li>할인/인상 적용</li></a>
                <a href="/admin/moren/reservation/menu" style="color: white;"><li style="background: #3a708f">모렌 예약 신청</li></a>
            </div>
        </div>

        <div class="content_container">
            <div class="head_title" style="margin-top: 50px; text-align: center;">
                <h2>예약 신청 목록</h2>
            </div>
            <div id="mainTable">
                <table id="morenReservationTable">
                    <thead id="table_header">
                    <tr>
                        <th>예약 신청 시간</th>
                        <th>차량 번호</th>
                        <th>이름</th>
                        <th>전화번호</th>
                        <th>대여시작일</th>
                        <th>월 대여료</th>
                        <th>취소 및 확정</th>
                        <th></th>
                    </tr>
                    </thead>
                    <!-- pc -->
                    <tbody id="mainTable_tbody">
                    <tr th:each="reservation, iterStat : ${morenReservationList}">
                        <td scope="col" th:text="${#strings.arraySplit(reservation.createdDate, 'T')[0]+' '+#strings.arraySplit(reservation.createdDate, 'T')[1]}" ></td>
                        <td scope="col" th:text="${reservation.carNo}"></td>
                        <td scope="col" th:text="${reservation.reservationName}"></td>
                        <td scope="col" th:text="${reservation.reservationPhone}" ></td>
                        <td scope="col" th:text="${reservation.reservationDate}" ></td>
                        <td scope="col" th:text="${reservation.carAmountTotal}"></td>
                        <td>
                            <span><button class="reservation-delete-btn" th:data-index="${reservation.carNo}">취소</button></span>
                            <span><button class="reservation-confirm-btn" th:data-index="${reservation.carNo}">확정</button></span>
                        </td>
                        <td>
                            <a th:href="'/admin/moren/reservation/detail/' + ${reservation.id}">
                                <button style="width: 100%;">상세 페이지</button>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <!-- Mobile --->
                <div id="morenReservationCard">
                    <div class="card" th:each="reservation, iterStat : ${morenReservationList}">
                        <p>예약 신청 시간: <span th:text="${#strings.arraySplit(reservation.createdDate, 'T')[0]+' '+#strings.arraySplit(reservation.createdDate, 'T')[1]}"></span></p>
                        <p>차량 번호: <span th:text="${reservation.carNo}"></span></p>
                        <p>이름: <span th:text="${reservation.reservationName}"></span> | 전화번호: <span th:text="${reservation.reservationPhone}"></span></p>
                        <p>대여시작일: <span th:text="${reservation.reservationDate}"></span> | 월 대여료: <span th:text="${reservation.carAmountTotal}"></span></p>
                        <p style="display: flex; justify-content: space-between;">
                            <span style="width: 49%;"><button class="reservation-delete-btn" th:data-index="${reservation.id}">취소</button></span>
                            <span style="width: 49%;"><button class="reservation-confirm-btn" th:data-index="${reservation.id}">확정</button></span>
                        </p>
                        <p>
                            <a th:href="'/admin/moren/reservation/detail/' + ${reservation.id}">
                                <button style="width: 100%;">상세 페이지</button>
                            </a>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

</body>

</html>